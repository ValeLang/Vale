
weakable struct Muta { hp int; }
weakable interface IUnit { func getHp(virtual self *IUnit) int; }
impl IUnit for Muta;
func getHp(self *Muta impl IUnit) int { ret self.hp; }

exported func main() int {
  ownMuta = Muta(7);
  borrowUnit *IUnit = *ownMuta;
  weakUnit = **borrowUnit;
  maybeBorrowUnit = lock(weakUnit);
  ret maybeBorrowUnit.get().getHp();
}
