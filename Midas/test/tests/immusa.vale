// immutable unknown-size-array

fn Arr<M, F>(n Int, generator &F) Array<M, T>
rules(M Mutability, T Ref, Prot("__call", (&F, Int), T))
{
  Array<M>(n, &IFunction1<mut, Int, T>(generator))
}

fn main() {
  a = Arr<imm>(5, {_});
  = a[3];
}
