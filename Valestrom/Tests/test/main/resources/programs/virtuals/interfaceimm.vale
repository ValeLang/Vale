
sealed interface MyOption imm { }

struct MySome imm {
  value @MyList;
}
impl MyOption for MySome;

struct MyNone imm { }
impl MyOption for MyNone;


struct MyList imm {
  value @int;
  next @MyOption;
}

func sum(list @MyList) int {
  ret list.value + sum(list.next);
}

abstract func sum(virtual opt @MyOption) int;
func sum(opt @MyNone impl MyOption) int { ret 0; }
func sum(opt @MySome impl MyOption) int {
   ret sum(opt.value);
}


exported func main() int {
  list = MyList(7, MySome(MyList(17, MySome(MyList(18, MyNone())))));
  ret sum(list);
}
